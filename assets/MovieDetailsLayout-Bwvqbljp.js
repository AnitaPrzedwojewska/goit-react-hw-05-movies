import{P as a,b as _,j as s,N as m,c as k,n as L,r as x,d as u,e as N,L as w,a as y,O as C}from"./index-Bt4Cxn2F.js";import{a as E}from"./index-BoPVD4Ny.js";const P="_detailsCard_1cbtv_1",D="_poster_1cbtv_39",M="_details_1cbtv_1",R="_info_1cbtv_77",$="_label_1cbtv_89",O="_links_1cbtv_101",S="_navLink_1cbtv_111",A="_active_1cbtv_129",e={detailsCard:P,poster:D,details:M,info:R,label:$,links:O,navLink:S,active:A},p=({poster_path:i,title:l,genres:t,overview:o,vote_average:n,release_date:h})=>{const{movieId:r}=_(),d=i?`${k}${i}`:`${L}`;console.log("typeof(genres): ",typeof t);const c=t&&t.length>0?t.map(({name:v})=>v).join(", "):"";return s.jsxs("div",{className:e.detailsCard,children:[s.jsx("div",{className:e.poster,children:s.jsx("img",{src:d})}),s.jsxs("div",{className:e.details,children:[s.jsxs("div",{className:e.info,children:[s.jsx("h3",{children:l}),c&&s.jsx("div",{children:s.jsx("p",{children:c})}),s.jsxs("div",{children:[s.jsx("p",{className:e.label,children:"Overview"}),s.jsx("p",{children:o})]}),s.jsxs("div",{children:[s.jsx("p",{className:e.label,children:"Release date"}),s.jsx("p",{children:h})]}),s.jsxs("div",{children:[s.jsx("p",{className:e.label,children:"Average rating"}),s.jsxs("p",{children:[n," / 10"]})]})]}),s.jsxs("div",{className:e.links,children:[s.jsx(m,{className:e.navLink,to:`/movies/${r}/cast`,children:"Cast"}),s.jsx(m,{className:e.navLink,to:`/movies/${r}/reviews`,children:"Reviews"})]})]})]})};p.propTypes={poster_path:a.string,title:a.string,genres:a.array,overview:a.string,vote_average:a.number,release_date:a.string};const B=()=>{var j;const[i,l]=x.useState({}),[t,o]=x.useState(null),{movieId:n}=_(),r=((j=u().state)==null?void 0:j.from)??"/movies";x.useEffect(()=>{n&&N(n).then(l).catch(o)},[n]);const{poster_path:d,title:c,genres:v,overview:b,vote_average:f,release_date:g}=i;return s.jsxs("main",{children:[s.jsxs(w,{to:r,children:[s.jsx(E,{}),"   ","Back to list of movies"]}),s.jsx(y,{children:s.jsx("h2",{children:"Movie details"})}),t&&s.jsx("p",{children:t.message}),i&&s.jsx(s.Fragment,{children:s.jsx(p,{poster_path:d,title:c,genres:v,overview:b,vote_average:f,release_date:g})}),s.jsx(C,{})]})};export{B as MovieDetailsLayout};
