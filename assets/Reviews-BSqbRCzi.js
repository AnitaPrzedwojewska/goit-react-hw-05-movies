import{P as l,j as e,r,b as _,i as g,a as w}from"./index-Bt4Cxn2F.js";import{M as E}from"./More-T39HuG87.js";const R="_reviewsList_1egqw_1",M={reviewsList:R},N="_card_1r5ij_1",P="_author_1r5ij_25",L="_content_1r5ij_37",S="_date_1r5ij_47",a={card:N,author:P,content:L,date:S},h=({author:c,created_at:n,content:t})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:a.card,children:[e.jsx("p",{className:a.author,children:c}),e.jsx("p",{className:a.content,children:t}),e.jsx("p",{className:a.date,children:n.substr(0,10)})]})});h.propTypes={author:l.string,created_at:l.string,content:l.string};const k=()=>{const[c,n]=r.useState([]),[t,u]=r.useState(1),[j,m]=r.useState(!1),[d,p]=r.useState(null),{movieId:i}=_();r.useEffect(()=>{console.log("useEffect for fetchMovieReviews starts..."),i&&g(i,t).then(({results:s,total_pages:o})=>{console.log("useEffect - results: ",s),console.log("useEffect - pages: ",o),n(s),m(o>t)}).catch(p)},[i,t]);const x=()=>{u(s=>s+1)};return e.jsxs(e.Fragment,{children:[e.jsx(w,{children:e.jsx("h2",{children:"Reviews"})}),e.jsxs("div",{className:M.reviewsList,children:[d&&e.jsx("p",{children:d.mesage}),c.length>0?c.map(({id:s,author:o,created_at:f,content:v})=>e.jsx(h,{author:o,created_at:f,content:v},s)):e.jsx("p",{children:"No information about the cast"}),j&&e.jsx(E,{onClick:x})]})]})};export{k as Reviews};
