import{P as d,j as e,r,c as g,k as w,a as f}from"./index-BgbQnYg9.js";import{M as N}from"./More-hMfBIRX9.js";const R="_reviewsList_1egqw_1",M={reviewsList:R},P="_card_1r5ij_1",E="_author_1r5ij_25",L="_content_1r5ij_37",S="_date_1r5ij_47",c={card:P,author:E,content:L,date:S},l=({author:a,created_at:n,content:s})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:c.card,children:[e.jsx("p",{className:c.author,children:a}),e.jsx("p",{className:c.content,children:s}),e.jsx("p",{className:c.date,children:n.substr(0,10)})]})});l.propTypes={author:d.string,created_at:d.string,content:d.string};const b=()=>{const[a,n]=r.useState([]),[s,j]=r.useState(1),[m,u]=r.useState(!1),[h,p]=r.useState(null),{movieId:o}=g();r.useEffect(()=>{o&&w(o,s).then(({results:t,total_pages:i})=>{n(t),u(i>s)}).catch(p)},[o,s]);const x=()=>{j(t=>t+1)};return e.jsxs(e.Fragment,{children:[e.jsx(f,{children:e.jsx("h2",{children:"Reviews"})}),e.jsxs("div",{className:M.reviewsList,children:[h&&e.jsx("p",{children:h.mesage}),a.length>0?a.map(({id:t,author:i,created_at:_,content:v})=>e.jsx(l,{author:i,created_at:_,content:v},t)):e.jsx("p",{children:"No information about the cast"}),m&&e.jsx(N,{onClick:x})]})]})};export{b as Reviews};
