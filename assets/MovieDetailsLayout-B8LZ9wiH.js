import{P as t,j as s,b as L,c as p,d as b,N as _,e as N,n as w,r as h,g as C,a as E,O as P}from"./index-BgbQnYg9.js";import{a as y}from"./index-DwU5SCqG.js";const f=({to:a,children:n})=>s.jsxs(L,{to:a,children:[s.jsx(y,{}),"   ",n]});f.propTypes={to:t.object,children:t.node};const D="_detailsCard_1cbtv_1",M="_poster_1cbtv_39",R="_details_1cbtv_1",$="_info_1cbtv_77",O="_label_1cbtv_89",S="_links_1cbtv_101",T="_navLink_1cbtv_111",A="_active_1cbtv_129",e={detailsCard:D,poster:M,details:R,info:$,label:O,links:S,navLink:T,active:A},g=({poster_path:a,title:n,genres:i,overview:d,vote_average:r,release_date:j})=>{const{movieId:c}=p(),o=b(),v=a?`${N}${a}`:`${w}`,l=i&&i.length>0?i.map(({name:m})=>m).join(", "):"";return s.jsxs("div",{className:e.detailsCard,children:[s.jsx("div",{className:e.poster,children:s.jsx("img",{src:v})}),s.jsxs("div",{className:e.details,children:[s.jsxs("div",{className:e.info,children:[s.jsx("h3",{children:n}),l&&s.jsx("div",{children:s.jsx("p",{children:l})}),s.jsxs("div",{children:[s.jsx("p",{className:e.label,children:"Overview"}),s.jsx("p",{children:d})]}),s.jsxs("div",{children:[s.jsx("p",{className:e.label,children:"Release date"}),s.jsx("p",{children:j})]}),s.jsxs("div",{children:[s.jsx("p",{className:e.label,children:"Average rating"}),s.jsxs("p",{children:[r," / 10"]})]})]}),s.jsxs("div",{className:e.links,children:[s.jsx(_,{className:e.navLink,to:`/movies/${c}/cast`,state:{from:o.state.from},children:"Cast"}),s.jsx(_,{className:e.navLink,to:`/movies/${c}/reviews`,state:{from:o.state.from},children:"Reviews"})]})]})]})};g.propTypes={poster_path:t.string,title:t.string,genres:t.array,overview:t.string,vote_average:t.number,release_date:t.string};const F=()=>{var x;const[a,n]=h.useState({}),[i,d]=h.useState(null),{movieId:r}=p(),c=((x=b().state)==null?void 0:x.from)??"/movies";h.useEffect(()=>{r&&C(r).then(n).catch(d)},[r]);const{poster_path:o,title:v,genres:l,overview:m,vote_average:k,release_date:u}=a;return s.jsxs("main",{children:[s.jsx(f,{to:c,children:"Back to list of movies"}),s.jsx(E,{children:s.jsx("h2",{children:"Movie details"})}),i&&s.jsx("p",{children:i.message}),a&&s.jsx(s.Fragment,{children:s.jsx(g,{poster_path:o,title:v,genres:l,overview:m,vote_average:k,release_date:u})}),s.jsx(P,{})]})};export{F as MovieDetailsLayout};
